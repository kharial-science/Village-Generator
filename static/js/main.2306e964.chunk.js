(this["webpackJsonpvillage-generator"]=this["webpackJsonpvillage-generator"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n.p+"static/media/building_houseBlue.0e087ae0.svg"},function(e,t,n){e.exports=n.p+"static/media/building_houseGreen.b5adbf1e.svg"},function(e,t,n){e.exports=n.p+"static/media/building_housePink.e7a95da1.svg"},function(e,t,n){e.exports=n.p+"static/media/building_houseYellow.8639dadd.svg"},function(e,t,n){e.exports=n.p+"static/media/familybuilding_townhallBlue.dbcc7e2d.svg"},function(e,t,n){e.exports=n.p+"static/media/familybuilding_townhallGreen.cc6197e0.svg"},function(e,t,n){e.exports=n.p+"static/media/familybuilding_townhallPink.2da6a194.svg"},function(e,t,n){e.exports=n.p+"static/media/familybuilding_townhallYellow.61e2a49b.svg"},function(e,t,n){e.exports=n.p+"static/media/global_way.a15a5b3a.svg"},,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var a={"./building_houseBlue.svg":7,"./building_houseGreen.svg":8,"./building_housePink.svg":9,"./building_houseYellow.svg":10};function i(e){var t=l(e);return n(t)}function l(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=l,e.exports=i,i.id=25},function(e,t,n){var a={"./familybuilding_townhall.svg":27,"./familybuilding_townhallBlue.svg":11,"./familybuilding_townhallGreen.svg":12,"./familybuilding_townhallPink.svg":13,"./familybuilding_townhallYellow.svg":14};function i(e){var t=l(e);return n(t)}function l(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=l,e.exports=i,i.id=26},function(e,t,n){e.exports=n.p+"static/media/familybuilding_townhall.ec27b597.svg"},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/global_chooseFamilyLogo.863d513a.svg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(16),r=n.n(l),c=(n(22),n(1)),s=n(2),u=n(5),o=n(4),d=n(3),h=(n(23),n(24),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.props.building),i.a.createElement("div",{className:"Chunk ".concat(this.props.isSelected?"selected":""),onClick:function(){return e.props.handleChunkSelect(e.props.index)}},this.props.building?i.a.createElement("img",{src:"house"===this.props.building?n(25)("./building_house".concat(this.props.family.charAt(0).toUpperCase()+this.props.family.slice(1),".svg")):"townhall"===this.props.building?n(26)("./familybuilding_townhall".concat(this.props.family.charAt(0).toUpperCase()+this.props.family.slice(1),".svg")):n(15)}):"")}}]),a}(a.Component)),p=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={renderedMap:a.props.map.map((function(e,t){return i.a.createElement(h,{key:t,index:t,building:e.building,family:a.props.family,handleChunkSelect:a.props.handleChunkSelect})})),currentSelectedChunk:1250,currentFamily:a.props.family},a}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{id:"Map"},this.state.renderedMap)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.family!==t.currentFamily?(t.renderedMap=e.map.map((function(t,n){return i.a.createElement(h,{key:n,index:n,building:t.building,family:e.family,handleChunkSelect:e.handleChunkSelect})})),{renderedMap:t.renderedMap,currentFamily:e.family}):e.selectedChunk!==t.currentSelectedChunk?(t.renderedMap[t.currentSelectedChunk]=i.a.createElement(h,Object.assign({key:t.renderedMap[t.currentSelectedChunk].key},t.renderedMap[t.currentSelectedChunk].props,{isSelected:!1})),t.renderedMap[e.selectedChunk]=i.a.createElement(h,Object.assign({key:t.renderedMap[e.selectedChunk].key},t.renderedMap[e.selectedChunk].props,{isSelected:!0})),{renderedMap:t.renderedMap,currentSelectedChunk:e.selectedChunk}):t.renderedMap[t.currentSelectedChunk].props.building!==e.map[t.currentSelectedChunk].building?(t.renderedMap[t.currentSelectedChunk]=i.a.createElement(h,Object.assign({key:t.renderedMap[e.selectedChunk].key},t.renderedMap[e.selectedChunk].props,{building:e.map[t.currentSelectedChunk].building,isSelected:!0})),{renderedMap:t.renderedMap}):null}}]),n}(a.Component),m=(n(28),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"FamilyCrystal",onClick:function(){return e.props.handleFamily(e.props.family)}},i.a.createElement("img",{id:"".concat(this.props.family,"-family"),className:this.props.isSelected?"selected":"",src:n(29),alt:this.props.family}))}}]),a}(a.Component)),f=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=["pink","blue","yellow","green"].map((function(t){return i.a.createElement(m,{isSelected:e.props.family===t,family:t,handleFamily:e.props.handleFamily})}));return i.a.createElement("div",{id:"ChooseFamily"},t)}}]),n}(a.Component),b=(n(30),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t={townhall:{pink:n(13),blue:n(11),yellow:n(14),green:n(12)},way:n(15),house:{pink:n(9),blue:n(7),yellow:n(10),green:n(8)}};return i.a.createElement("div",{className:"Building",draggable:!0,onClick:function(t){return e.props.handleBuildingClick(t,e.props.building)}},i.a.createElement("img",{src:"house"===this.props.building||"townhall"===this.props.building?t[this.props.building][this.props.family]:t[this.props.building]}))}}]),a}(a.Component)),g=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=["house","townhall","way",""].map((function(t){return i.a.createElement(b,{key:t,family:e.props.family,building:t,handleBuildingClick:e.props.handleBuildingClick})}));return i.a.createElement("div",{id:"Toolbar"},t)}}]),n}(a.Component),y=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{id:"SaveButton"},i.a.createElement("button",{onClick:this.props.handleSave},"Save"))}}]),n}(a.Component),v=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{id:"ImportButton"},"Import another map",i.a.createElement("input",{type:"file",onChange:this.props.handleImport}))}}]),n}(a.Component),k=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={family:"pink",map:new Array(2601).fill(null).map((function(){return new Object({building:void 0})})),selectedChunk:1299},e.handleKeyPress=e.handleKeyPress.bind(Object(u.a)(e)),e.handleChunkSelect=e.handleChunkSelect.bind(Object(u.a)(e)),e.handleFamilySelect=e.handleFamilySelect.bind(Object(u.a)(e)),e.handleBuildingClick=e.handleBuildingClick.bind(Object(u.a)(e)),e.handleSave=e.handleSave.bind(Object(u.a)(e)),e.handleImport=e.handleImport.bind(Object(u.a)(e)),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("wheel",this.displayMenus),document.onkeypress=this.handleKeyPress}},{key:"handleKeyPress",value:function(e){var t=this.state.selectedChunk;122===e.charCode?t-=51:100===e.charCode?t+=1:115===e.charCode?t+=51:113===e.charCode&&(t-=1),t<0&&(t=2601+t),t!==this.state.selectedChunk&&this.setState({selectedChunk:t})}},{key:"handleFamilySelect",value:function(e){this.setState({family:e})}},{key:"handleBuildingClick",value:function(e,t){this.state.map[this.state.selectedChunk]={building:t},this.setState({map:this.state.map})}},{key:"handleChunkSelect",value:function(e){this.setState({selectedChunk:e})}},{key:"handleSave",value:function(){for(var e=new Array(51).fill(null).map((function(){return new Array})),t=0;t<this.state.map.length;t++)e[Math.floor(t/51)].push(this.state.map[t].building);var n="data:text/csv;charset=utf-8,";e.forEach((function(e){console.log(e);var t=e.join(",");console.log(t),n+=t+"\r\n"})),console.log(n);var a=encodeURI(n),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download","".concat(this.state.family,"Village.csv")),document.body.appendChild(i),i.click()}},{key:"handleImport",value:function(e){var t=this,n=e.target.files[0],a=new FileReader;a.onloadend=function(e){var n=a.result,i=[],l=n.split("\r\n");l=l.slice(0,l.length-1);for(var r=0;r<50;r++)l[r].split(",").forEach((function(e){i.push({building:e})}));console.log(i),t.setState({map:i})},a.readAsText(n)}},{key:"render",value:function(){return i.a.createElement("div",{id:"App"},i.a.createElement("div",{id:"left-column",className:"menu"},i.a.createElement(f,{family:this.state.family,handleFamily:this.handleFamilySelect}),i.a.createElement(y,{handleSave:this.handleSave}),i.a.createElement(v,{handleImport:this.handleImport})),i.a.createElement(p,{family:this.state.family,map:this.state.map,selectedChunk:this.state.selectedChunk,handleChunkSelect:this.handleChunkSelect}),i.a.createElement("div",{id:"right-column",className:"menu"},i.a.createElement(g,{family:this.state.family,handleBuildingClick:this.handleBuildingClick})))}}]),n}(a.Component);r.a.render(i.a.createElement(k,null),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.2306e964.chunk.js.map