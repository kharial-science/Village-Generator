{"version":3,"sources":["assets/images/building_houseBlue.svg","assets/images/building_houseGreen.svg","assets/images/building_housePink.svg","assets/images/building_houseYellow.svg","assets/images/familybuilding_townhall.svg","assets/images/global_way.svg","assets/images sync /^/building_house.*/.svg$","assets/images sync /^/familybuilding_townhall.*/.svg$","assets/images/familybuilding_townhallBlue.svg","assets/images/familybuilding_townhallGreen.svg","assets/images/familybuilding_townhallPink.svg","assets/images/familybuilding_townhallYellow.svg","assets/images/global_chooseFamilyLogo.svg","components/Map/Chunk.js","components/Map/Map.js","components/LeftButtons/FamilyCrystal.js","components/LeftButtons/ChooseFamily.js","components/RightButtons/Building.js","components/RightButtons/Toolbar.js","components/LeftButtons/SaveButton.js","components/LeftButtons/ImportButton.js","App.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Chunk","props","console","log","this","building","className","isSelected","onClick","handleChunkSelect","index","src","require","family","charAt","toUpperCase","slice","Component","Map","state","renderedMap","chunk","i","key","currentSelectedChunk","currentFamily","nextProps","prevState","selectedChunk","FamilyCrystal","handleFamily","alt","ChooseFamily","familyArray","elt","Building","images","townhall","way","house","pink","blue","yellow","green","draggable","handleBuildingClick","Toolbar","buildingArray","SaveButton","handleSave","ImportButton","type","onChange","handleImport","App","Array","fill","undefined","handleKeyPress","bind","handleFamilySelect","document","addEventListener","displayMenus","onkeypress","charCode","setState","rows","length","Math","floor","push","csvContent","forEach","rowArray","row","join","encodedUri","encodeURI","link","createElement","setAttribute","body","appendChild","click","file","target","files","fileReader","FileReader","onloadend","content","result","split","readAsText","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.604613c8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/building_houseBlue.0e087ae0.svg\";","module.exports = __webpack_public_path__ + \"static/media/building_houseGreen.b5adbf1e.svg\";","module.exports = __webpack_public_path__ + \"static/media/building_housePink.e7a95da1.svg\";","module.exports = __webpack_public_path__ + \"static/media/building_houseYellow.8639dadd.svg\";","module.exports = __webpack_public_path__ + \"static/media/familybuilding_townhall.ec27b597.svg\";","module.exports = __webpack_public_path__ + \"static/media/global_way.a15a5b3a.svg\";","var map = {\n\t\"./building_houseBlue.svg\": 7,\n\t\"./building_houseGreen.svg\": 8,\n\t\"./building_housePink.svg\": 9,\n\t\"./building_houseYellow.svg\": 10\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 22;","var map = {\n\t\"./familybuilding_townhall.svg\": 11,\n\t\"./familybuilding_townhallBlue.svg\": 24,\n\t\"./familybuilding_townhallGreen.svg\": 25,\n\t\"./familybuilding_townhallPink.svg\": 26,\n\t\"./familybuilding_townhallYellow.svg\": 27\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 23;","module.exports = __webpack_public_path__ + \"static/media/familybuilding_townhallBlue.dbcc7e2d.svg\";","module.exports = __webpack_public_path__ + \"static/media/familybuilding_townhallGreen.cc6197e0.svg\";","module.exports = __webpack_public_path__ + \"static/media/familybuilding_townhallPink.2da6a194.svg\";","module.exports = __webpack_public_path__ + \"static/media/familybuilding_townhallYellow.61e2a49b.svg\";","module.exports = __webpack_public_path__ + \"static/media/global_chooseFamilyLogo.863d513a.svg\";","import React, { Component } from 'react'\r\n\r\nclass Chunk extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.building)\r\n    return (\r\n      <div className={`Chunk ${this.props.isSelected ? 'selected' : ''}`} onClick={() => this.props.handleChunkSelect(this.props.index)}>\r\n        {this.props.building ? <img src={this.props.building === 'house' ? require(`../../assets/images/building_house${this.props.family.charAt(0).toUpperCase() + this.props.family.slice(1)}.svg`) : this.props.building === 'townhall' ? require(`../../assets/images/familybuilding_townhall${this.props.family.charAt(0).toUpperCase() + this.props.family.slice(1)}.svg`) : require('../../assets/images/global_way.svg')} /> : ''}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Chunk","import React, { Component } from 'react'\r\n\r\nimport './Map.css'\r\n\r\nimport Chunk from './Chunk'\r\n\r\nclass Map extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      renderedMap: this.props.map.map((chunk, i) => {\r\n        return (\r\n          <Chunk\r\n            key={i}\r\n            index={i}\r\n            building={chunk.building}\r\n            family={this.props.family}\r\n            handleChunkSelect={this.props.handleChunkSelect}\r\n          />\r\n        )\r\n      }),\r\n      currentSelectedChunk: 1250,\r\n      currentFamily: this.props.family\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (nextProps.family !== prevState.currentFamily) {\r\n      prevState.renderedMap = nextProps.map.map((chunk, i) => {\r\n        return (\r\n          <Chunk\r\n            key={i}\r\n            index={i}\r\n            building={chunk.building}\r\n            family={nextProps.family}\r\n            handleChunkSelect={nextProps.handleChunkSelect}\r\n          />\r\n        )\r\n      })\r\n\r\n      return { renderedMap: prevState.renderedMap, currentFamily: nextProps.family }\r\n    }\r\n\r\n    if (nextProps.selectedChunk !== prevState.currentSelectedChunk) {\r\n      prevState.renderedMap[prevState.currentSelectedChunk] =\r\n        <Chunk\r\n          key={prevState.renderedMap[prevState.currentSelectedChunk].key}\r\n          {...prevState.renderedMap[prevState.currentSelectedChunk].props}\r\n          isSelected={false}\r\n        />\r\n\r\n      prevState.renderedMap[nextProps.selectedChunk] =\r\n        <Chunk\r\n          key={prevState.renderedMap[nextProps.selectedChunk].key}\r\n          {...prevState.renderedMap[nextProps.selectedChunk].props}\r\n          isSelected={true}\r\n        />\r\n\r\n      return { renderedMap: prevState.renderedMap, currentSelectedChunk: nextProps.selectedChunk }\r\n    }\r\n\r\n    if (prevState.renderedMap[prevState.currentSelectedChunk].props.building !== nextProps.map[prevState.currentSelectedChunk].building) {\r\n      prevState.renderedMap[prevState.currentSelectedChunk] =\r\n        <Chunk\r\n          key={prevState.renderedMap[nextProps.selectedChunk].key}\r\n          {...prevState.renderedMap[nextProps.selectedChunk].props}\r\n          building={nextProps.map[prevState.currentSelectedChunk].building}\r\n          isSelected={true}\r\n        />\r\n\r\n      return { renderedMap: prevState.renderedMap }\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"Map\">\r\n        {this.state.renderedMap}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Map","import React, { Component } from 'react'\r\n\r\nclass FamilyCrystal extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"FamilyCrystal\" onClick={() => this.props.handleFamily(this.props.family)}>\r\n        <img id={`${this.props.family}-family`} className={this.props.isSelected ? 'selected' : ''} src={require('../../assets/images/global_chooseFamilyLogo.svg')} alt={this.props.family} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FamilyCrystal","import React, { Component } from 'react'\r\n\r\nimport './ChooseFamily.css'\r\n\r\nimport FamilyCrystal from './FamilyCrystal'\r\n\r\nclass ChooseFamily extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    const familyArray = ['pink', 'blue', 'yellow', 'green'].map(elt => <FamilyCrystal isSelected={this.props.family === elt} family={elt} handleFamily={this.props.handleFamily} />)\r\n    return (\r\n      <div id=\"ChooseFamily\">\r\n        {familyArray}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChooseFamily","import React, { Component } from 'react'\r\n\r\nclass Building extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    const images = {\r\n      townhall: require('../../assets/images/familybuilding_townhall.svg'),\r\n      way: require('../../assets/images/global_way.svg'),\r\n      house: {\r\n        pink: require('../../assets/images/building_housePink.svg'),\r\n        blue: require('../../assets/images/building_houseBlue.svg'),\r\n        yellow: require('../../assets/images/building_houseYellow.svg'),\r\n        green: require('../../assets/images/building_houseGreen.svg'),\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"Building\" draggable={true} onClick={(e) => this.props.handleBuildingClick(e, this.props.building)}>\r\n        <img src={this.props.building === 'house' ? images.house[this.props.family] : images[this.props.building]} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Building","import React, { Component } from 'react'\r\n\r\nimport './Toolbar.css'\r\n\r\nimport Building from './Building'\r\n\r\nclass Toolbar extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    const buildingArray = ['house', 'townhall', 'way', ''].map(building => <Building key={building} family={this.props.family} building={building} handleBuildingClick={this.props.handleBuildingClick} />)\r\n\r\n    return (\r\n      <div id=\"Toolbar\">\r\n        {buildingArray}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Toolbar","import React, { Component } from 'react'\r\n\r\nclass SaveButton extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"SaveButton\">\r\n        <button onClick={this.props.handleSave}>Save</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SaveButton","import React, { Component } from 'react'\r\n\r\nclass ImportButton extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"ImportButton\">\r\n        Import another map\r\n        <input type='file' onChange={this.props.handleImport}></input>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ImportButton","import React, { Component } from 'react';\r\n\r\nimport './App.css'\r\n\r\nimport Map from './components/Map/Map'\r\nimport ChooseFamily from './components/LeftButtons/ChooseFamily'\r\nimport Toolbar from './components/RightButtons/Toolbar'\r\nimport SaveButton from './components/LeftButtons/SaveButton'\r\nimport ImportButton from './components/LeftButtons/ImportButton'\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      family: 'pink',\r\n      map: new Array(2601).fill(null).map(() => new Object({ building: undefined })),\r\n      selectedChunk: 1299\r\n    }\r\n\r\n    this.handleKeyPress = this.handleKeyPress.bind(this)\r\n    this.handleChunkSelect = this.handleChunkSelect.bind(this)\r\n    this.handleFamilySelect = this.handleFamilySelect.bind(this)\r\n    this.handleBuildingClick = this.handleBuildingClick.bind(this)\r\n    this.handleSave = this.handleSave.bind(this)\r\n    this.handleImport = this.handleImport.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('wheel', this.displayMenus)\r\n\r\n    document.onkeypress = this.handleKeyPress\r\n  }\r\n\r\n  handleKeyPress(e) {\r\n    let selectedChunk = this.state.selectedChunk\r\n\r\n    if (e.charCode === 122) selectedChunk -= 51 // go top\r\n    else if (e.charCode === 100) selectedChunk += 1 // go right\r\n    else if (e.charCode === 115) selectedChunk += 51 // go down\r\n    else if (e.charCode === 113) selectedChunk -= 1 // go left\r\n\r\n    if (selectedChunk < 0) selectedChunk = 2601 + selectedChunk\r\n\r\n    if (selectedChunk !== this.state.selectedChunk) this.setState({ selectedChunk: selectedChunk })\r\n  }\r\n\r\n  handleFamilySelect(family) {\r\n    this.setState({ family: family })\r\n  }\r\n\r\n  handleBuildingClick(e, building) {\r\n    this.state.map[this.state.selectedChunk] = { building }\r\n    this.setState({ map: this.state.map })\r\n  }\r\n\r\n  handleChunkSelect(index) {\r\n    this.setState({ selectedChunk: index })\r\n  }\r\n\r\n  handleSave() {\r\n    let rows = new Array(51).fill(null).map(() => new Array())\r\n    for (let i = 0; i < this.state.map.length; i++) {\r\n      rows[Math.floor(i / 51)].push(this.state.map[i].building)\r\n    }\r\n\r\n    let csvContent = \"data:text/csv;charset=utf-8,\"\r\n    rows.forEach(rowArray => {\r\n      console.log(rowArray)\r\n      let row = rowArray.join(\",\")\r\n      console.log(row)\r\n      csvContent += row + \"\\r\\n\"\r\n    })\r\n\r\n\r\n    console.log(csvContent)\r\n    var encodedUri = encodeURI(csvContent)\r\n    var link = document.createElement(\"a\")\r\n    link.setAttribute(\"href\", encodedUri)\r\n    link.setAttribute(\"download\", `${this.state.family}Village.csv`)\r\n    document.body.appendChild(link)\r\n\r\n    link.click()\r\n  }\r\n\r\n  handleImport(e) {\r\n\r\n    let file = e.target.files[0]\r\n\r\n    let fileReader = new FileReader()\r\n    fileReader.onloadend = (e) => {\r\n      const content = fileReader.result\r\n      let map = []\r\n      let rows = content.split('\\r\\n')\r\n      rows = rows.slice(0, rows.length - 1)\r\n\r\n      for (let i = 0; i < 50; i++) {\r\n        rows[i].split(',').forEach(elt => {\r\n          map.push({ building: elt })\r\n        })\r\n      }\r\n\r\n      console.log(map)\r\n\r\n      this.setState({ map })\r\n    }\r\n    fileReader.readAsText(file)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"App\">\r\n        <div id=\"left-column\" className=\"menu\">\r\n          <ChooseFamily family={this.state.family} handleFamily={this.handleFamilySelect} />\r\n          <SaveButton handleSave={this.handleSave} />\r\n          <ImportButton handleImport={this.handleImport} />\r\n        </div>\r\n\r\n        <Map family={this.state.family} map={this.state.map} selectedChunk={this.state.selectedChunk} handleChunkSelect={this.handleChunkSelect} />\r\n\r\n        <div id=\"right-column\" className=\"menu\">\r\n          <Toolbar family={this.state.family} handleBuildingClick={this.handleBuildingClick} />\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}